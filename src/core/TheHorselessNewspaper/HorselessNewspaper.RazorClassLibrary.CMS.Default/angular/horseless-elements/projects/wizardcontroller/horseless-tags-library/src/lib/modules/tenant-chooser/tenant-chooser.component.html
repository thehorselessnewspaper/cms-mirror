<div class="container" *ngIf="isAuthenticated$ | async; else unauthorized">
  <mat-tab-group dynamicHeight>
    <mat-tab label="Hosting">
      <p-dataView
        #dv
        [paginator]="true"
        [rows]="5"
        layout="list"
        [lazy]="true"
        (onLazyLoad)="pullHostingEntitiesTenantsByOffset($event)"
        [totalRecords]="tenantChooserService.hostingEntitiesTenantsCount"
        [value]="hostingModelTenant$ | async"
      >
        <ng-template pTemplate="header">
          <p-dataViewLayoutOptions></p-dataViewLayoutOptions>
        </ng-template>

        <ng-template let-tenant pTemplate="listItem">
          {{ tenant.DisplayName }}
        </ng-template>

        <ng-template let-tenant pTemplate="gridItem">
          <div class="container">
            <p-card>

              <div class="row">
                <div>
                  {{ tenant.DisplayName }}
                </div>
                <div>
                  {{ tenant.TenantIdentifier }}
                </div>
                <div>
                  {{ tenant.BaseUrl }}
                </div>
              </div>
              <table>
                <thead>
                    <th>Name</th>
                    <th>Scope</th>
                    <th>Permission</th>
                    <th>PermissionType</th>
                    <th>Scope</th>
                    <th>Active</th>
                </thead>
                <tbody>
                    <tr *ngFor="let acl of tenant.AccessControlEntries">
                        <td>{{acl.DisplayName}}</td>
                        <td>{{ acl.Scope }}</td>
                        <td>{{ acl.Permission }}</td>
                        <td>{{ acl.PermissionType }}</td>
                        <td>{{ acl.IsActive }}</td>
                    </tr>
                </tbody>
            </table>
          </p-card>

          </div>
        </ng-template>

        <ng-template pTemplate="footer">
          <p-dataViewLayoutOptions></p-dataViewLayoutOptions>
        </ng-template>
      </p-dataView>
    </mat-tab>

    <mat-tab label="Content">
      <p-dataView
        #dv
        [paginator]="true"
        [rows]="5"
        layout="list"
        [lazy]="true"
        (onLazyLoad)="pullContentEntitiesTenantsByOffset($event)"
        [totalRecords]="tenantChooserService.contentEntitiesTenantsCount"
        [value]="contentModelTenant$ | async"
      >
        <ng-template pTemplate="header">
          <p-dataViewLayoutOptions></p-dataViewLayoutOptions>
        </ng-template>

        <ng-template let-tenant pTemplate="listItem">
          {{ tenant.DisplayName }}
        </ng-template>

        <ng-template let-tenant pTemplate="gridItem">
          <div class="container">
            <p-card>

              <div class="row">
                <div>
                  {{ tenant.DisplayName }}
                </div>
                <div>
                  {{ tenant.TenantIdentifier }}
                </div>
                <div>
                  {{ tenant.BaseUrl }}
                </div>
              </div>
              <table>
                <thead>
                    <th>Name</th>
                    <th>Scope</th>
                    <th>Permission</th>
                    <th>PermissionType</th>
                    <th>Scope</th>
                    <th>Active</th>
                </thead>
                <tbody>
                    <tr *ngFor="let acl of tenant.AccessControlEntries">
                        <td>{{ acl.DisplayName}}</td>
                        <td>{{ acl.Scope }}</td>
                        <td>{{ acl.Permission }}</td>
                        <td>{{ acl.PermissionType }}</td>
                        <td>{{ acl.IsActive }}</td>
                    </tr>
                </tbody>
            </table>
          </p-card>

          </div>
        </ng-template>

        <ng-template pTemplate="footer">
          <p-dataViewLayoutOptions></p-dataViewLayoutOptions>
        </ng-template>
      </p-dataView>
    </mat-tab>
  </mat-tab-group>
</div>

<ng-template #unauthorized>
  <div>
    <span>unauthorized</span>
  </div>
</ng-template>
