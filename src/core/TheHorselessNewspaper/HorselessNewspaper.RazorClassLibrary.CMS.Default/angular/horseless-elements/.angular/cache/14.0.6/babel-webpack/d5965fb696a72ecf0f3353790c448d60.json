{"ast":null,"code":"import * as i0 from '@angular/core';\nimport { EventEmitter, Component, ChangeDetectionStrategy, ViewEncapsulation, Input, ContentChild, ContentChildren, ViewChild, Output, NgModule } from '@angular/core';\nimport * as i1 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i2 from 'primeng/api';\nimport { Header, Footer, PrimeTemplate, SharedModule } from 'primeng/api';\nimport * as i3 from 'primeng/scroller';\nimport { ScrollerModule } from 'primeng/scroller';\nconst _c0 = [\"scroller\"];\n\nfunction VirtualScroller_div_1_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\n\nfunction VirtualScroller_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵprojection(1);\n    i0.ɵɵtemplate(2, VirtualScroller_div_1_ng_container_2_Template, 1, 0, \"ng-container\", 9);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r0.headerTemplate);\n  }\n}\n\nfunction VirtualScroller_ng_template_6_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\n\nconst _c1 = function (a0) {\n  return {\n    \"height\": a0\n  };\n};\n\nconst _c2 = function (a0, a1) {\n  return {\n    $implicit: a0,\n    options: a1\n  };\n};\n\nfunction VirtualScroller_ng_template_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10);\n    i0.ɵɵtemplate(1, VirtualScroller_ng_template_6_ng_container_1_Template, 1, 0, \"ng-container\", 11);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r6 = ctx.$implicit;\n    const scrollerOptions_r7 = ctx.options;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(3, _c1, ctx_r3.itemSize + \"px\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", item_r6 ? ctx_r3.itemTemplate : ctx_r3.loadingItemTemplate)(\"ngTemplateOutletContext\", i0.ɵɵpureFunction2(5, _c2, item_r6, scrollerOptions_r7));\n  }\n}\n\nfunction VirtualScroller_div_7_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\n\nfunction VirtualScroller_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵprojection(1, 1);\n    i0.ɵɵtemplate(2, VirtualScroller_div_7_ng_container_2_Template, 1, 0, \"ng-container\", 9);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r4.footerTemplate);\n  }\n}\n\nconst _c3 = [[[\"p-header\"]], [[\"p-footer\"]]];\nconst _c4 = [\"p-header\", \"p-footer\"];\nlet VirtualScroller = /*#__PURE__*/(() => {\n  class VirtualScroller {\n    constructor(el, cd) {\n      this.el = el;\n      this.cd = cd;\n      this.delay = 250;\n      this.onLazyLoad = new EventEmitter();\n    }\n\n    ngAfterContentInit() {\n      this.templates.forEach(item => {\n        switch (item.getType()) {\n          case 'item':\n            this.itemTemplate = item.template;\n            break;\n\n          case 'loadingItem':\n            this.loadingItemTemplate = item.template;\n            break;\n\n          case 'header':\n            this.headerTemplate = item.template;\n            break;\n\n          case 'footer':\n            this.footerTemplate = item.template;\n            break;\n\n          default:\n            this.itemTemplate = item.template;\n            break;\n        }\n      });\n    }\n\n    onLazyItemLoad(event) {\n      if (this.virtualScrollTimeout) {\n        clearTimeout(this.virtualScrollTimeout);\n      }\n\n      this.virtualScrollTimeout = setTimeout(() => {\n        this.onLazyLoad.emit(Object.assign(Object.assign({}, event), {\n          rows: event.last - event.first,\n          forceUpdate: () => this.cd.detectChanges()\n        }));\n      }, this.delay);\n    }\n\n    getBlockableElement() {\n      return this.el.nativeElement.children[0];\n    }\n\n    scrollToIndex(index, mode) {\n      var _a;\n\n      (_a = this.scroller) === null || _a === void 0 ? void 0 : _a.scrollToIndex(index, mode);\n    }\n\n  }\n\n  VirtualScroller.ɵfac = function VirtualScroller_Factory(t) {\n    return new (t || VirtualScroller)(i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n  };\n\n  VirtualScroller.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: VirtualScroller,\n    selectors: [[\"p-virtualScroller\"]],\n    contentQueries: function VirtualScroller_ContentQueries(rf, ctx, dirIndex) {\n      if (rf & 1) {\n        i0.ɵɵcontentQuery(dirIndex, Header, 5);\n        i0.ɵɵcontentQuery(dirIndex, Footer, 5);\n        i0.ɵɵcontentQuery(dirIndex, PrimeTemplate, 4);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.header = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.footer = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.templates = _t);\n      }\n    },\n    viewQuery: function VirtualScroller_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.scroller = _t.first);\n      }\n    },\n    hostAttrs: [1, \"p-element\"],\n    inputs: {\n      value: \"value\",\n      itemSize: \"itemSize\",\n      style: \"style\",\n      styleClass: \"styleClass\",\n      scrollHeight: \"scrollHeight\",\n      lazy: \"lazy\",\n      options: \"options\",\n      delay: \"delay\"\n    },\n    outputs: {\n      onLazyLoad: \"onLazyLoad\"\n    },\n    ngContentSelectors: _c4,\n    decls: 8,\n    vars: 14,\n    consts: [[3, \"ngClass\", \"ngStyle\"], [\"class\", \"p-virtualscroller-header\", 4, \"ngIf\"], [1, \"p-virtualscroller-content\"], [\"content\", \"\"], [\"styleClass\", \"p-virtualscroller-list\", 3, \"items\", \"itemSize\", \"lazy\", \"options\", \"onLazyLoad\"], [\"scroller\", \"\"], [\"pTemplate\", \"item\"], [\"class\", \"p-virtualscroller-footer\", 4, \"ngIf\"], [1, \"p-virtualscroller-header\"], [4, \"ngTemplateOutlet\"], [1, \"p-virtualscroller-item\", 3, \"ngStyle\"], [4, \"ngTemplateOutlet\", \"ngTemplateOutletContext\"], [1, \"p-virtualscroller-footer\"]],\n    template: function VirtualScroller_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵprojectionDef(_c3);\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtemplate(1, VirtualScroller_div_1_Template, 3, 1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2, 3)(4, \"p-scroller\", 4, 5);\n        i0.ɵɵlistener(\"onLazyLoad\", function VirtualScroller_Template_p_scroller_onLazyLoad_4_listener($event) {\n          return ctx.onLazyItemLoad($event);\n        });\n        i0.ɵɵtemplate(6, VirtualScroller_ng_template_6_Template, 2, 8, \"ng-template\", 6);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(7, VirtualScroller_div_7_Template, 3, 1, \"div\", 7);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵclassMap(ctx.styleClass);\n        i0.ɵɵproperty(\"ngClass\", \"p-virtualscroller p-component\")(\"ngStyle\", ctx.style);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.header || ctx.headerTemplate);\n        i0.ɵɵadvance(3);\n        i0.ɵɵstyleMap(i0.ɵɵpureFunction1(12, _c1, ctx.scrollHeight));\n        i0.ɵɵproperty(\"items\", ctx.value)(\"itemSize\", ctx.itemSize)(\"lazy\", ctx.lazy)(\"options\", ctx.options);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.footer || ctx.footerTemplate);\n      }\n    },\n    dependencies: [i1.NgClass, i1.NgIf, i1.NgTemplateOutlet, i1.NgStyle, i2.PrimeTemplate, i3.Scroller],\n    encapsulation: 2\n  });\n  return VirtualScroller;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\nlet VirtualScrollerModule = /*#__PURE__*/(() => {\n  class VirtualScrollerModule {}\n\n  VirtualScrollerModule.ɵfac = function VirtualScrollerModule_Factory(t) {\n    return new (t || VirtualScrollerModule)();\n  };\n\n  VirtualScrollerModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: VirtualScrollerModule\n  });\n  VirtualScrollerModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [CommonModule, SharedModule, ScrollerModule, SharedModule, ScrollerModule]\n  });\n  return VirtualScrollerModule;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { VirtualScroller, VirtualScrollerModule }; //# sourceMappingURL=primeng-virtualscroller.mjs.map","map":null,"metadata":{},"sourceType":"module"}